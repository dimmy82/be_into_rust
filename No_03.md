# rustにハマる巻03

## 1． Generic

#### Functionのジェネリック
  
```rust
fn hoge<T, R>(param: T) -> R {
    unimplemented!()
}
```

#### Structのジェネリック
  
```rust
struct Point<T1, T2> {
    x: T1,
    y: T2,
}
```
#### Methodのジェネリック

```rust
struct Point<T1> {
    x: T1,
}

impl<T1> Point<T1> {
    fn x<T2>(&self) -> (T1, T2) {
        unimplemented!()
    }
}
```

#### ジェネリックが参照タイプ

```rust
fn hoge<T>(param: T) {
    unimplemented!()
}

fn fuga<T>(param: &T) {
    unimplemented!()
}

fn main() {
    hoge(String::from("test"));
    hoge(&String::from("test"));

    fuga(String::from("test"));    // コンパイルエラー： expected reference, found struct `std::string::String`
    fuga(&String::from("test"));
}
```


#### ジェネリックのコードはコンパイル時点で実タイプのコードに置換される

```rust
fn hoge<T>(param: T) {
    unimplemented!()
}

fn main() {
    hoge(1);
    hoge(1.0);
}
```

コンパイラーは下記のようにコードを置換する

```rust
fn hoge_i32(param: i32) {
    unimplemented!()
}

fn hoge_f64(param: f64) {
    unimplemented!()
}

fn main() {
    hoge_i32(1);
    hoge_f64(1.0);
}
```
